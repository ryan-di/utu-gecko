{"version":3,"sources":["components/CurrencyTable.js","App.js","reportWebVitals.js","components/CoinPage.js","index.js"],"names":["uniqueKeygen","require","CurrencyRow","props","className","index","order","map","o","data","formatNum","Math","round","to","date","includes","CurrencyTable","prop","onClick","sortBy","d","Currency","num","parts","toString","split","replace","join","App","useState","latestStats","setLatestStats","msg","setMSG","setDate","setProp","update","useEffect","fetch","then","res","ok","json","Error","k","stats","sort","a","b","catch","error","console","log","p","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","NoMatch","location","useLocation","pathname","ReactDOM","render","StrictMode","path","component","exact","useParams","name","setData","result","e","style","color","record","document","getElementById"],"mappings":"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","file":"static/js/main.ef477477.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './CurrencyTable.css';\n\nconst uniqueKeygen = require('unique-keygen');\n\nfunction CurrencyRow(props) {\n\treturn (\n\t\t<tr className=\"data-row\">\n\t\t\t<td>{props.index}</td>\n\t\t\t{props.order.map((o) => {\n\t\t\t\treturn (\n\t\t\t\t\t<td key={uniqueKeygen(5)} className={o === 'Currency' ? 'name' : ''}>\n\t\t\t\t\t\t{o === 'Price' || o === 'Market Cap' ? '$' : ''}\n\t\t\t\t\t\t{typeof props.data[o] === 'number' ? (\n\t\t\t\t\t\t\tformatNum(Math.round(props.data[o] * 100) / 100)\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Link to={`/coin/${props.data[o]}/${props.date}`}>\n\t\t\t\t\t\t\t\t{props.data[o]}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{['24h', '7d', '30d', 'All'].includes(o) ? '%' : ''}\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t})}\n\t\t</tr>\n\t);\n}\n\nexport default function CurrencyTable(props) {\n\treturn (\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>#</th>\n\t\t\t\t\t{props.order.map((o) => (\n\t\t\t\t\t\t<th\n\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t${o === 'Currency' ? 'name-th' : 'number-th'}\n\t\t\t\t\t\t\t\t${o === props.prop ? 'current-th' : ''}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tkey={uniqueKeygen(3)}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tprops.sortBy(o);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{o}\n\t\t\t\t\t\t</th>\n\t\t\t\t\t))}\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{props.data.map((d, index) => (\n\t\t\t\t\t<CurrencyRow\n\t\t\t\t\t\tdata={d}\n\t\t\t\t\t\tdate={props.date}\n\t\t\t\t\t\tkey={d.Currency}\n\t\t\t\t\t\torder={props.order}\n\t\t\t\t\t\tindex={index + 1}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</tbody>\n\t\t</table>\n\t);\n}\n\nfunction formatNum(num) {\n\tlet parts = num.toString().split('.');\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\treturn parts.join('.');\n}\n","import './App.css';\nimport CurrencyTable from './components/CurrencyTable';\nimport { useEffect, useState } from 'react';\n\nfunction App() {\n\tconst [latestStats, setLatestStats] = useState([]);\n\tconst [msg, setMSG] = useState('loading...');\n\tconst [date, setDate] = useState('');\n\tconst [prop, setProp] = useState('Market Cap');\n\tconst [update] = useState(true);\n\n\tuseEffect(() => {\n\t\tif (update) {\n\t\t\tfetch('/api/stats/')\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.ok) return res.json();\n\t\t\t\t\telse throw Error('Something went wrong');\n\t\t\t\t})\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst k = 'Market Cap';\n\t\t\t\t\tconst stats = data.stats.sort((a, b) => {\n\t\t\t\t\t\treturn b[k] - a[k];\n\t\t\t\t\t});\n\t\t\t\t\tsetLatestStats(stats);\n\t\t\t\t\tsetDate(data.date);\n\t\t\t\t\tsetMSG('');\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetMSG('Something went wrong. Please try again later.');\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t}\n\t}, [update]);\n\n\tfunction sortBy(p) {\n\t\tif (p !== prop) {\n\t\t\tconst stats = latestStats.sort((a, b) => {\n\t\t\t\treturn b[p] - a[p];\n\t\t\t});\n\t\t\tsetProp(p);\n\t\t\tsetLatestStats([...stats]);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<h1>CryptoCurrency Prices</h1>\n\t\t\t{date !== '' ? <h2>{date}</h2> : ''}\n\t\t\t{msg !== '' ? (\n\t\t\t\t<h3>{msg}</h3>\n\t\t\t) : (\n\t\t\t\t<div className=\"currency-table-wrapper\">\n\t\t\t\t\t<CurrencyTable\n\t\t\t\t\t\tdata={latestStats}\n\t\t\t\t\t\torder={[\n\t\t\t\t\t\t\t'Currency',\n\t\t\t\t\t\t\t'Price',\n\t\t\t\t\t\t\t'24h',\n\t\t\t\t\t\t\t'7d',\n\t\t\t\t\t\t\t'30d',\n\t\t\t\t\t\t\t'Volume',\n\t\t\t\t\t\t\t'Market Cap',\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tdate={date}\n\t\t\t\t\t\tprop={prop}\n\t\t\t\t\t\tsortBy={(p) => {\n\t\t\t\t\t\t\tsortBy(p);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{console.log('re-rendered')}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport './CoinPage.css';\nconst uniqueKeygen = require('unique-keygen');\n\nexport default function CoinPage() {\n\tconst { name, date } = useParams();\n\tconst [data, setData] = useState([]);\n\tconst [msg, setMSG] = useState('Loading...');\n\tconst props = ['Date', 'Open', 'High', 'Close', 'Volume', 'Market Cap'];\n\n\tuseEffect(() => {\n\t\tfetch(`/api/data/coin/${name}/${date}/31`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) return res.json();\n\t\t\t\telse throw Error('fetching coin data went wrong');\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tsetData(result.data);\n\t\t\t\tsetMSG('');\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tsetMSG('Something went wrong. Please try again later.');\n\t\t\t\tconsole.log(e);\n\t\t\t});\n\t}, [name, date]);\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>\n\t\t\t\tLatest stats for <span style={{ color: 'goldenrod' }}>{name}</span>\n\t\t\t</h1>\n\t\t\t{msg === '' ? (\n\t\t\t\t<div className=\"table-wrapper\">\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{props.map((prop) => {\n\t\t\t\t\t\t\t\t\treturn <th key={uniqueKeygen(5)}>{prop}</th>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{data.map((record) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={uniqueKeygen(5)}>\n\t\t\t\t\t\t\t\t\t\t{props.map((prop) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <td key={uniqueKeygen(5)}>{record[prop]}</td>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<h3>{msg}</h3>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n\tBrowserRouter as Router,\n\tRoute,\n\tSwitch,\n\tuseLocation,\n} from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport CoinPage from './components/CoinPage';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" component={App} exact />\n\t\t\t\t<Route path=\"/coin/:name/:date\" component={CoinPage} exact />\n\t\t\t\t<Route path=\"/api/\" />\n\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t<NoMatch />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nfunction NoMatch() {\n\tlet location = useLocation();\n\n\treturn (\n\t\t<div>\n\t\t\t<h3>\n\t\t\t\tNo match for <code>{location.pathname}</code>\n\t\t\t</h3>\n\t\t</div>\n\t);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}